<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ€å°åŒ–æ¸¬è©¦ - Vibe Coding Academy</title>
    <!-- åªè¼‰å…¥å¿…è¦çš„CSS -->
    <link rel="stylesheet" href="src/styles/global.css">
    <style>
        /* é¡å¤–çš„é™¤éŒ¯æ¨£å¼ */
        .debug-info {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.8);
            color: #0f0;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 12px;
            z-index: 9999;
        }
        .test-step {
            margin: 10px 0;
            padding: 5px;
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
        }
        .status-ok { color: #0f0; }
        .status-error { color: #f00; }
        .status-warning { color: #ff0; }
    </style>
</head>
<body>
    <!-- é™¤éŒ¯ä¿¡æ¯é¢æ¿ -->
    <div class="debug-info">
        <div id="debug-output">é–‹å§‹æ¸¬è©¦...</div>
    </div>

    <!-- æœ€å°åŒ–çš„HTMLçµæ§‹ -->
    <div id="app" class="app-container">
        <header class="app-header">
            <h1 class="app-title">ğŸ® Vibe Coding Academy</h1>
            <p class="app-subtitle">éŠæˆ²åŒ–ç¶²ç«™éœ€æ±‚æ”¶é›†å™¨</p>
        </header>

        <main class="main-content">
            <!-- æ¸¬è©¦Loading Screen -->
            <div id="loading-screen" class="loading-screen" style="display: flex;">
                <div class="loading-spinner"></div>
                <p id="loading-text">æ­£åœ¨åˆå§‹åŒ–éŠæˆ²å¼•æ“...</p>
            </div>

            <!-- æ¸¬è©¦ç”¨çš„ç°¡å–®å®¹å™¨ -->
            <div id="test-container" class="hidden">
                <p>âœ… æœ€å°åŒ–æ¸¬è©¦æˆåŠŸï¼JavaScriptæ­£å¸¸åŸ·è¡Œã€‚</p>
                <button id="test-button" onclick="showSuccess()">é»æ“Šæ¸¬è©¦</button>
            </div>
        </main>
    </div>

    <script>
        // é™¤éŒ¯è¼¸å‡ºå‡½æ•¸
        function debugLog(message, status = 'ok') {
            const output = document.getElementById('debug-output');
            const timestamp = new Date().toLocaleTimeString();
            const statusClass = `status-${status}`;
            
            output.innerHTML += `<div class="test-step"><span class="${statusClass}">[${timestamp}] ${message}</span></div>`;
            console.log(`[MINIMAL TEST] ${message}`);
        }

        // æ¸¬è©¦å‡½æ•¸
        function runMinimalTests() {
            debugLog('ğŸš€ é–‹å§‹æœ€å°åŒ–æ¸¬è©¦');

            // æ¸¬è©¦1: DOMåŸºç¤åŠŸèƒ½
            try {
                const app = document.getElementById('app');
                if (app) {
                    debugLog('âœ… DOMæŸ¥è©¢åŠŸèƒ½æ­£å¸¸', 'ok');
                } else {
                    debugLog('âŒ DOMæŸ¥è©¢å¤±æ•—', 'error');
                }
            } catch (error) {
                debugLog(`âŒ DOMæ¸¬è©¦éŒ¯èª¤: ${error.message}`, 'error');
            }

            // æ¸¬è©¦2: CSSè¼‰å…¥æª¢æŸ¥
            try {
                const loadingScreen = document.getElementById('loading-screen');
                const computedStyle = getComputedStyle(loadingScreen);
                
                debugLog(`Loading Screen display: ${computedStyle.display}`, 
                    computedStyle.display === 'flex' ? 'ok' : 'error');
                debugLog(`Loading Screen visibility: ${computedStyle.visibility}`, 
                    computedStyle.visibility !== 'hidden' ? 'ok' : 'error');
                
            } catch (error) {
                debugLog(`âŒ CSSæ¸¬è©¦éŒ¯èª¤: ${error.message}`, 'error');
            }

            // æ¸¬è©¦3: åŸºæœ¬JavaScriptåŠŸèƒ½
            try {
                const testVar = { test: true };
                const testArray = [1, 2, 3];
                const testFunc = () => 'test';
                
                debugLog('âœ… JavaScriptåŸºç¤åŠŸèƒ½æ­£å¸¸', 'ok');
            } catch (error) {
                debugLog(`âŒ JavaScriptåŸºç¤åŠŸèƒ½éŒ¯èª¤: ${error.message}`, 'error');
            }

            // æ¸¬è©¦4: äº‹ä»¶ç³»çµ±
            try {
                document.addEventListener('test-event', () => {
                    debugLog('âœ… äº‹ä»¶ç³»çµ±æ­£å¸¸', 'ok');
                });
                
                const testEvent = new CustomEvent('test-event');
                document.dispatchEvent(testEvent);
            } catch (error) {
                debugLog(`âŒ äº‹ä»¶ç³»çµ±éŒ¯èª¤: ${error.message}`, 'error');
            }

            // æ¸¬è©¦5: å˜—è©¦é¡¯ç¤ºæ¸¬è©¦å®¹å™¨
            setTimeout(() => {
                try {
                    const loadingScreen = document.getElementById('loading-screen');
                    const testContainer = document.getElementById('test-container');
                    
                    if (loadingScreen && testContainer) {
                        loadingScreen.style.display = 'none';
                        testContainer.classList.remove('hidden');
                        debugLog('âœ… ç•Œé¢åˆ‡æ›æ¸¬è©¦æˆåŠŸ', 'ok');
                    }
                } catch (error) {
                    debugLog(`âŒ ç•Œé¢åˆ‡æ›éŒ¯èª¤: ${error.message}`, 'error');
                }
            }, 2000);
        }

        // æˆåŠŸæ¸¬è©¦å‡½æ•¸
        function showSuccess() {
            debugLog('ğŸ‰ ç”¨æˆ¶äº’å‹•æ¸¬è©¦æˆåŠŸï¼', 'ok');
            alert('æœ€å°åŒ–æ¸¬è©¦å®Œå…¨æˆåŠŸï¼');
        }

        // éŒ¯èª¤æ•ç²
        window.addEventListener('error', (e) => {
            debugLog(`âŒ å…¨åŸŸéŒ¯èª¤: ${e.message} (${e.filename}:${e.lineno})`, 'error');
        });

        // è¼‰å…¥å®Œæˆå¾ŒåŸ·è¡Œæ¸¬è©¦
        document.addEventListener('DOMContentLoaded', () => {
            debugLog('ğŸ“„ DOMContentLoaded äº‹ä»¶è§¸ç™¼', 'ok');
            runMinimalTests();
        });

        // ç¢ºä¿è…³æœ¬è¼‰å…¥
        debugLog('ğŸ“œ æœ€å°åŒ–æ¸¬è©¦è…³æœ¬å·²è¼‰å…¥', 'ok');
    </script>
</body>
</html>